<!-- ä¸ªäººä¸­å¿ƒé¡µé¢ -->
<view class="profile-page">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <image class="user-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill" />
    <view class="user-info">
      <text class="user-name">{{userInfo.nickName}}</text>
      <text class="user-id">å­¦å·ï¼š{{userInfo.studentId || 'æœªè®¾ç½®'}}</text>
    </view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="section-title">
      <text>ğŸ“Š å­¦ä¹ ç»Ÿè®¡</text>
    </view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{stats.continuous_days}}</text>
        <text class="stat-label">è¿ç»­æ‰“å¡</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.total_days}}</text>
        <text class="stat-label">ç´¯è®¡å¤©æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.mastered_cards}}</text>
        <text class="stat-label">æŒæ¡å¡ç‰‡</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.ai_chat_count}}</text>
        <text class="stat-label">AIé—®ç­”</text>
      </view>
    </view>
  </view>

  <!-- æˆå°±å¾½ç«  -->
  <view class="achievements-section">
    <view class="section-title">
      <text>ğŸ† æˆå°±å¾½ç« </text>
      <text class="achievement-count">{{unlockedCount}}/{{totalCount}}</text>
    </view>
    <view class="achievements-grid">
      <view 
        class="achievement-item {{item.unlocked ? 'unlocked' : 'locked'}}"
        wx:for="{{achievements}}"
        wx:key="id"
        bindtap="onAchievementClick"
        data-achievement="{{item}}"
      >
        <view class="achievement-icon">{{item.icon}}</view>
        <text class="achievement-name">{{item.name}}</text>
        <view class="achievement-progress" wx:if="{{!item.unlocked}}">
          <text>{{item.progress}}/{{item.target}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ è®°å½• -->
  <view class="records-section">
    <view class="section-title">
      <text>ğŸ“… æ‰“å¡æ—¥å†</text>
    </view>
    <view class="calendar-grid">
      <view 
        class="calendar-day {{item.checked ? 'checked' : ''}}"
        wx:for="{{calendarDays}}"
        wx:key="date"
      >
        <text class="day-number">{{item.day}}</text>
        <view class="check-mark" wx:if="{{item.checked}}">âœ“</view>
      </view>
    </view>
  </view>

  <!-- è®¾ç½®é€‰é¡¹ -->
  <view class="settings-section">
    <view class="section-title">
      <text>âš™ï¸ è®¾ç½®</text>
    </view>
    <view class="setting-item" bindtap="onClearCache">
      <text>æ¸…é™¤ç¼“å­˜</text>
      <text class="arrow">â€º</text>
    </view>
    <view class="setting-item" bindtap="onAbout">
      <text>å…³äºæˆ‘ä»¬</text>
      <text class="arrow">â€º</text>
    </view>
  </view>
</view>
